# ============================================================
# tmux — canonical configuration
#
# This file is the single source of truth for tmux behavior.
# No plugins. No magic. Explicit, procedural configuration.
# ============================================================


# ------------------------------------------------------------
# Terminal capability negotiation
# ------------------------------------------------------------

set -g default-terminal "tmux-256color"

# Enable italic text (SGR 3 / 23) in modern terminals
set -ga terminal-overrides ',*:sitm=\E[3m'
set -ga terminal-overrides ',*:ritm=\E[23m'


# ------------------------------------------------------------
# Visual focus & accents
# ------------------------------------------------------------

# Pane borders
# Inactive: dark yellow / olive (low contrast)
set -g pane-border-style fg=colour58

# Active: bright yellow (focus)
set -g pane-active-border-style fg=yellow

# Cursor (active input indicator)
#set -g cursor-style fg=black,bg=yellow

# Status line (stable accent)
set -g status-style fg=yellow,bg=default


# ------------------------------------------------------------
# Input & interaction model
# ------------------------------------------------------------

set -g mode-keys vi
set -g mouse on


# ------------------------------------------------------------
# Clipboard (OSC 52 — explicit, portable)
# ------------------------------------------------------------

bind-key -T copy-mode-vi y \
  send -X copy-pipe-and-cancel "$HOME/dev/env/terminal/tmux/osc52-copy.sh"

# set-option -g set-clipboard on   # intentionally disabled


# ------------------------------------------------------------
# Pane navigation (prefix-free, editor-agnostic)
# ------------------------------------------------------------

bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R
